# JSON压缩字段映射表

## 概述
本映射表用于压缩War3数据JSON文件，通过缩短字段名来减小文件体积。

## 原理
- **高频字段**: 使用1-2字符短名
- **中频字段**: 使用2-3字符缩写
- **低频字段**: 保持原名或使用3字符缩写
- **冗余字段**: 直接移除

## 字段映射表

```javascript
{
  "section": "s",
  "_id": "i",
  "_type": "t",
  "_code": "c",
  "_max_level": "ml",
  "_name": "n",
  "name": "n",
  "editorsuffix": "es",
  "art": "a",
  "hotkey": "hk",
  "tip": "tp",
  "ubertip": "ut",
  "buttonpos_1": "bp1",
  "buttonpos_2": "bp2",
  "description": "d",
  "race": "rc",
  "level": "lv",
  "hp": "hp",
  "mana0": "m0",
  "manan": "mn",
  "goldcost": "gc",
  "lumbercost": "lc",
  "prio": "pr",
  "scale": "sc",
  "armor": "ar",
  "cool1": "c1",
  "cool2": "c2",
  "dmgplus1": "dg1",
  "dmgplus2": "dg2",
  "dice1": "dc1",
  "dice2": "dc2",
  "rangeN1": "rn1",
  "rangeN2": "rn2",
  "atktype1": "at1",
  "atktype2": "at2",
  "missileart_1": "ma1",
  "missileart_2": "ma2",
  "missilearc_1": "mc1",
  "missilearc_2": "mc2",
  "missilespeed_1": "ms1",
  "missilespeed_2": "ms2",
  "missilehoming_1": "mh1",
  "missilehoming_2": "mh2",
  "targetart": "ta",
  "specialart": "sa",
  "effectart": "ea",
  "effectsound": "es",
  "effectsoundlooped": "esl",
  "agi": "ag",
  "agiplus": "agp",
  "int": "in",
  "intplus": "inp",
  "str": "st",
  "strplus": "stp",
  "abillist": "al",
  "heroabillist": "hal",
  "levels": "ls",
  "requires": "rq",
  "requiresamount": "rqa",
  "buffid": "bi",
  "dataa": "da",
  "datab": "db",
  "datac": "dc",
  "datad": "dd",
  "datae": "de",
  "dataf": "df",
  "movetp": "mt",
  "movespeed": "ms",
  "maxspd": "mxs",
  "minspd": "mns",
  "collision": "col",
  "collisionSize": "cs",
  "file": "f",
  "modelscale": "msc",
  "red": "rd",
  "green": "gn",
  "blue": "bl",
  "blend": "blnd",
  "isbldg": "ib",
  "campaign": "cp",
  "hero": "hr",
  "item": "it",
  "neutral": "ne",
  "hostilepal": "hp",
  "bldtm": "bt",
  "reptm": "rt",
  "castpt": "cpt",
  "castbsw": "cbs",
  "backsw1": "bs1",
  "backsw2": "bs2",
  "bountydice": "bd",
  "bountyplus": "bp",
  "bountysides": "bs",
  "lumberbountydice": "lbd",
  "lumberbountyplus": "lbp",
  "lumberbountysides": "lbs",
  "stockmax": "sm",
  "stockregen": "sr",
  "stockstart": "ss",
  "fused": "fu",
  "fmade": "fm",
  "requireshero": "rh",
  "checkdep": "cd",
  "dropitems": "di",
  "inEditor": "ie",
  "onUserSpecified": "ous",
  "raceInEditor": "re",
  "sort": "so",
  "tech": "tc",
  "unitClass": "uc",
  "valid": "vd",
  "loopingsoundfadein": "lsfi",
  "loopingsoundfadeout": "lsfo",
  "impactz": "iz",
  "launchz": "lz",
  "maxpitch": "mp",
  "maxroll": "mr",
  "pathtex": "pt",
  "tilesets": "ts",
  "tilesetspecific": "tss",
  "acquire": "acq",
  "cast": "ca",
  "dur": "du",
  "herodur": "hd",
  "area": "ar",
  "targetattach": "ta",
  "casterattachcount": "cac",
  "efctid": "ei",
  "cansleep": "cs",
  "canflee": "cf",
  "hideherobar": "hhb",
  "hideherodeathmsg": "hhdm",
  "hideherominimap": "hhmm",
  "hideonminimap": "hom",
  "preventplace": "pp",
  "buildingshadow": "bs",
  "customteamcolor": "ctc",
  "formation": "fo",
  "def": "df",
  "deftype": "dft",
  "defup": "dfu",
  "movefloor": "mvf",
  "moveheight": "mvh",
  "elevpts": "ep",
  "elevrad": "er",
  "attachmentanimprops": "aap",
  "auto": "au",
  "awakentip": "awt",
  "buffradius": "br",
  "bufftype": "bt",
  "cargosize": "csz",
  "death": "de",
  "deathtype": "dt",
  "damageloss1": "dl1",
  "damageloss2": "dl2",
  "dmgpt1": "dp1",
  "dmgpt2": "dp2",
  "dmgup1": "du1",
  "dmgup2": "du2",
  "farea1": "fa1",
  "farea2": "fa2",
  "fatlos": "fl",
  "fileverflags": "fvf",
  "fograd": "fg",
  "harea1": "ha1",
  "harea2": "ha2",
  "hfact1": "hf1",
  "hfact2": "hf2",
  "impactswimz": "isz",
  "launchswimz": "lsz",
  "launchx": "lx",
  "launchy": "ly",
  "nbmmicon": "nmi",
  "nbrandom": "nbr",
  "nsight": "ns",
  "occh": "oc",
  "orientinterp": "oi",
  "points": "pt",
  "propernames": "pn",
  "propwin": "pw",
  "qarea1": "qa1",
  "qarea2": "qa2",
  "qfact1": "qf1",
  "qfact2": "qf2",
  "regenhp": "rhp",
  "regenmana": "rm",
  "regentype": "rt",
  "repulse": "rp",
  "repulsegroup": "rg",
  "repulseparam": "rpa",
  "sight": "si",
  "spilldist": "sd",
  "spillradius": "sr",
  "stockinitial": "si",
  "turnrate": "tr",
  "unitSound": "us",
  "upgradetype": "ut",
  "useclickhelper": "uch",
  "weap1": "w1",
  "weap2": "w2",
  "weaptype1": "wt1",
  "weaptype2": "wt2",
  "zamart": "za",
  "zambuff": "zb",
  "zamcount": "zc",
  "zamdelay": "zd",
  "zamname": "zn",
  "zamprio": "zp",
  "zamtarg": "zt",
  "zamtips": "zts",
  "zamubertip": "zu",
  "zamunit": "zu",
  "zamwv": "zw",
  "zamxy": "zx",
  "zamz": "zz"
}
```

## 冗余字段（已移除）
```javascript
[
  "_name",
  "_code",
  "onUserSpecified",
  "raceInEditor",
  "valid",
  "sort",
  "tech",
  "unitClass"
]
```

## 使用方法

### 压缩
```bash
node compress.js
```

### 解压（如果需要）
```javascript
const { decompressJson } = require('./compress.js');
const compressed = require('./data_compressed/units_compressed.json');
const original = decompressJson(compressed);
```

## 预期压缩率
- units.json: ~40-50%
- abilities.json: ~35-45%
- items.json: ~30-40%
- 其他文件: ~25-35%

## 注意事项
1. 压缩后的文件需要配合解压函数使用
2. 如果直接使用，需要修改读取代码中的字段名映射
3. 建议同时保留原始文件作为备份
